<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Rain CSS > List</title>
<!-- Framework CSS -->
<link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="all"/>
<link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print"/> 
<!--[if lte IE 8]><link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"><![endif]--> 
<link rel="stylesheet" href="css/rain.css" type="text/css" media="all"/>
<!--[if lt IE 9]><script type="text/javascript" src="js/html5.js"></script><![endif]-->
<script type="text/javascript" src='js/jquery-1.7.2.js'></script>
    <style type="text/css">
     .filter input[type='text']{margin: 0;padding: 0;min-height: 36px;line-height: 26px;width: 100%;}
     .filter .iconbtn-left{top: 8px;left:8px;}
     .filter .iconbtn-right{top: 8px;right:8px;}
     .round-20,.css3_round-20 {
         -moz-border-radius: 20px; /* FF1+ */
         -webkit-border-radius: 20px; /* Saf3+, Chrome */
         border-radius: 20px; /* Opera 10.5, IE 9 */
     }
    </style>
</head>
<body class="body">
	<div class="header headerBlue">
  	<nav class="lsn posr clearfix">
    	<a href="#" class="headerLink headerLinkBlue l pr pl ib tdn">link1</a>
    	<a href="#" class="headerLink headerLinkBlue l pr pl ib tdn">link2</a>
    	<a href="#" class="headerLink headerLinkBlue l pr pl ib tdn">link3</a>
    </nav>
  </div>
	<div class="headerM headerGrey">
  	<div class="container posr">
    	<div class="l"><a class="tdn block ptll fsxxl" href="index.html">Rain CSS</a></div>
    </div>
  </div>
  
	<div class="container mt">
    <div class="pt">
        <div class="sidebar l posr">
            <h2 class="category">Basic list</h2>
            <p>Basic list</p>
        </div>

        <div class="main mainRight posr">
            <h1>Basic List</h1>
			<ul class="rounds border lsn nop norm">
				<li class="css3_round_topS borderBottom">
					<a class="block heightL tdn pl pr css3_round_topS" href="#">Home</a>
				</li>
				<li class="borderBottom">
					<a class="block heightL tdn pl pr hoverlgrey itemColorBlack" href="#">Profile</a>
				</li>
				<li class="css3_round_bottomS">
					<a class="block heightL tdn pl pr hoverlgrey itemColorBlack css3_round_bottomS" href="#">Messages</a>
				</li>
			</ul>
			
			<ul class="lsn nop norm">
				<li class="bgWhite marginBottomSS">
					<a class="block heightL bgBlue rounds tdn pl pr colorWhite" href="#">Home</a>
				</li>
				<li class="bgWhite marginBottomSS"><a class="block heightL rounds tdn pl pr hoverlgrey itemColorBlack" href="#">Profile</a></li>
				<li class="bgWhite"><a class="block heightL rounds tdn pl pr hoverlgrey itemColorBlack" href="#">Messages</a></li>
			</ul>
			
			<h2>Nav list</h2>				
			<ul class="rounds border bgLightGrey lsn noLeftPadding pt pb norm css3_text_shadow">
				<li><a class="block colorGrey strong heightS tdn pl pr" href="#">List header</a></li>
				<li><a class="block heightS bgBlue tdn pl pr colorWhite" href="#">Home</a></li>
				<li><a class="block heightS tdn pl pr itemLightGrey2 itemColorBlack" href="#">Library</a></li>
				<li><a class="block heightS tdn pl pr itemLightGrey2 itemColorBlack" href="#">Apps</a></li>
				<li><a class="block colorGrey strong heightS tdn pl pr" href="#">Another List header</a></li>
				<li><a class="block heightS tdn pl pr itemLightGrey2 itemColorBlack" href="#">Profile</a></li>
				<li><a class="block heightS tdn pl pr itemLightGrey2 itemColorBlack" href="#">Messages</a></li>
			</ul>
        </div><hr/>
		</div>
		<div class="paddingTop">
			<div class="sidebar l posr">
				<h2 class="category">List for Mobile</h2>
				<p>This part list are use for mobile device</p>
			</div>
			<div class="main mainRight posr">
				<h1>List for Mobile</h1>
				<fieldset>
					<legend>Basic List</legend>
                    <div id='list1'></div>
				</fieldset>
				<fieldset>
					<legend>Basic List with icon</legend>  
					<ul class='vgroup round-10 oh border mt nop lsn'>
						<li><a href='#' class='ggrey btn greybtn block tdn p tac posr'>
						<span class="micon iconbtn-right ib bggrey roundall tac posa"><i class="icon-th icon-white"></i></span>
                        item1
						</a></li>
						<li><a href='#' class='ggrey btn greybtn block tdn p tac posr'>
						<span class="micon iconbtn-right ib bggrey roundall tac posa"><i class="icon-th icon-white"></i></span>
                        item2
						</a></li>
						<li><a href='#' class='ggrey btn greybtn block tdn p tac posr'>
						<span class="micon iconbtn-right ib bggrey roundall tac posa"><i class="icon-th icon-white"></i></span>
                        item3
						</a></li>
					</ul> 
				</fieldset>
                <fieldset>
                    <legend>Horizontal group(type1)</legend>
                    <ul class="hgroup round-10 oh ib border clearfix lsn nop">
                        <li class="l fl">
                            <a href='javascript:;' class=" ggrey btn greybtn block tdn p">
                                item1
                            </a>
                        </li>
                        <li class="l fl">
                            <a href='javascript:;' class=" ggrey btn greybtn block tdn p">
                                <span class="pls">item2</span>
                            </a>
                        </li>
                        <li class="l fl">
                            <a href='javascript:;' class=" ggrey btn greybtn block tdn p">
                                <span class="pls">item3</span>
                            </a>
                        </li>
                    </ul>
                </fieldset>
                <fieldset>
                    <legend>Filter</legend>
                    <div class="filter" id="filter">
                    </div>
                </fieldset>
			</div>
	      <footer class="footer socialFooter c borderTop">
	        <p class="bottom pt pb">Copyright 2010-2013 Web Development Machine All rights reserved.</p>
	      </footer>
		</div>
	</div>
    <script type="text/javascript">
    /**
     * list
     * @author mingdd。
     * @param  {object} 配置参数 。
     */
    (function ($) {
        $.extend({
            'List': function (opt) {
                var opts = $.extend({
                    box:'#list1',   //list盒子
                    ulClass:'vgroup round-10 oh border nop lsn',    //ul的样式
                    liClass:'', //li的样式
                    itemClass:'ggrey btn greybtn block tdn p tac posr', // item的样式
                    icon:true, //是否有图标
                    iconClass:'micon ib bggrey roundall tac posa', //图标的样式
                    iconSite:'right', //  图标的位置
                    iconType:'icon-chevron-right icon-white',  //  图标的类型
                    orientation: 'horizontal',  //horizontal或者vertical. //list的方向
                    data: {item:['item1','item2','item3','item4']} //   数据
                }, {}, opt);
                var _box=$(opts.box),_li;
                var ulClass=opts.ulClass,liClass=opts.liClass,itemClass=opts.itemClass;

                /**
                 * 封装的list对象
                 */
                var L={
                    /**
                     * 初始UI
                     */
                    initUI:function(){
                        var uls='<ul class="' + ulClass + '"></ul>';
                        _box.append($(uls));
                    },
                    /**
                     * 处理数据
                     * @param  {[object]} obj [数据]
                     */
                    parseData:function(obj){
                        var data=obj.item,lis='';
                        $.each(data,function(i){
                            lis +='<li class="'+liClass+'"><a href="#" class="'+itemClass+'">'+data[i]+'</a></li>';
                        });
                        _box.find('ul').append($(lis));
                    },
                    /**
                     * 获取数据
                     * @return {[object]} [数据]
                     */
                    getData:function(){
                        return opts.data;
                    },
                    /**
                     * 设置数据
                     * @return {[object]} [L对象]
                     */
                    setData:function(){
                        if (opts.data) {
                            this.parseData(opts.data);
                        }
                        return L;
                    },
                    /**
                     * 获取list
                     * @return {[object]} [jquery包装集]
                     */
                    getList:function(){
                        return _box.find('ul');
                    },
                    /**
                     * 设置图标
                     */
                    setIcon:function(){
                        if(opts.icon){
                            var _item=_box.find('li').find('a');
                            if (opts.iconSite) {
                                opts.iconClass+=' iconbtn-'+opts.iconSite;
                            }
                            var icons='<span class="'+opts.iconClass+'"><i class="'+opts.iconType+'"></i></span>';
                            _item.each(function(){
                                $(this).append($(icons));
                            });
                        }
                    },
                    /**
                     * 初始化
                     */
                    init:function(){
                        this.initUI();
                        this.setData();
                        this.setIcon();
                    }
                };
                L.init();
                return L;
            }
        });
        $.extend({
            'Filter': function (opt) {
                var opts = $.extend({
                    filter: '#filter', //搜索盒子
                    filterClass: 'search posr bl bright bt bb round-20 pl-3 pr-3 mb',  // 搜索框的样式
                    inputClass: 'nob nom nob', //输入框的样式
                    event: 'input propertychange', //事件
                    placeholder: 'Search fruits...' //占位符
                }, {}, opt);
                var _filter = $(filter);
                var _list, _search, _close;
                var event = opts.event;
                var mark = true;

                /**
                 * 封装的搜索对象
                 */
                var F = {
                    /**
                     * 初始UI
                     */
                    initUI: function () {
                        var filter = '<div class="' + opts.filterClass + '">'
                                + '<input class="' + opts.inputClass + '" type="text" placeholder="' + opts.placeholder + '"/>'
                                + '<span class="micon iconbtn-left ib bggrey roundall tac posa"><i class="icon-search icon-white"></i></span>'
                                + '<span class="fclose micon iconbtn-right ib bggrey roundall tac posa hide"><i class="icon-remove icon-white"></i></span></div>';
                        _filter.prepend($(filter));

                        _search = _filter.find("input[type='text']");
                        _close = _filter.find('.fclose');
                    },

                    /**
                     * 设置list
                     * @param {[object]} l [list对象]
                     */
                    setList: function (l) {
                        F.list = l;
                        _list = F.list.getList();
                    },
                    /**
                     * 获取list
                     * @return {[object]} [list对象]
                     */
                    getList: function () {
                        return F.list;
                    },
                    /**
                     *根据条件处理list的状态
                     * @param  {[bool]} f [判断条件]
                     */
                    listStatic: function (f) {
                        f ? _list.show() : _list.hide();
                    },
                    /**
                     * 关联list，绑定相关事件。
                     * @param  {[object]} l [list 对象]
                     */
                    joinList: function (l) {
                        this.setList(l);
                        _search.on(event, function () {
                            var str = $(this).attr('value');
                            var _item = _filter.find('a');
                            F.listStatic(true);
                            mark = false;
                            str == '' ? _close.hide() : _close.show();
                            _item.each(function (i) {
                                if (!$.trim(_item.eq(i).text()).indexOf(str)) {
                                    _item.eq(i).parent('li').show();
                                    mark = true;
                                } else {
                                    _item.eq(i).parent('li').hide();
                                }
                            });
                            F.listStatic(mark);
                        });
                        _close.on('click', function () {
                            _list.show().find('li').show();
                        });
                    },
                    /**
                     * 绑定事件
                     */
                    bindEvent: function () {
                        _search.on(event, function () {
                            var str = $(this).attr('value');
                            str == '' ? _close.hide() : _close.show();
                        });
                        _close.on('click', function () {
                            _search.attr({value: ''});
                            _close.hide();
                        });
                    },
                    /**
                     * 初始化
                     */
                    init: function () {
                        this.initUI();
                        this.bindEvent();
                    }
                };

                F.init();
                return F;
            }
        });
    })(jQuery);
    var l = new $.List();
    var fl = new $.List({
        box:'#filter',
        itemClass:'listitem ggrey btn greybtn block tdn p posr',
        data: {item:['apple','banana','peach']}
    });
    var f=new $.Filter();
    f.joinList(fl);
    </script>
</body>
</html>