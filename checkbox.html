<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Rain CSS > CheckBox</title>
<!-- Framework CSS -->
<link rel="stylesheet" href="css/blueprint/screen.css" type="text/css"
	media="all" />
<link rel="stylesheet" href="css/blueprint/print.css" type="text/css"
	media="print" />
<!--[if lte IE 8]><link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"><![endif]-->
<link rel="stylesheet" href="css/rain.css" type="text/css" media="all" />
<!--[if lt IE 9]><script type="text/javascript" src="js/html5.js"></script><![endif]-->
</head>
<body class="body" id="body">
	<div class="header headerBlue">
		<nav class="listStyleNo posr clearfix"> <a href="#"
			class="headerLink headerLinkBlue l pr pl ib tdn">link1</a> <a
			href="#" class="headerLink headerLinkBlue l pr pl ib tdn">link2</a> <a
			href="#" class="headerLink headerLinkBlue l pr pl ib tdn">link3</a> </nav>
	</div>
	<div class="headerM headerGrey">
		<div class="container posr">
			<div class="l">
				<a class="tdn block ptll fsxxl" href="index.html">Rain CSS</a>
			</div>
		</div>
	</div>

	<div class="container mt">
		<div class="content">
			<div class="sidebar l posr">
				<h2 class="category">CheckBox component with CSS3</h2>
				<p>This part is the webpage CheckBox component</p>
			</div>
			<div class="main mainRight posr">
				<h1>CSS3 CheckBox</h1>
				<form method="post" action="">
					<fieldset>
						<legend>Vertical group checkbox</legend>
						<div id="j_group">
						</div>
					</fieldset>
				</form>

			</div>
			<footer class="footer socialFooter c ">
			<p class="bottom pt pb">Copyright 2010-2013 Web Development
				Machine All rights reserved.</p>
			</footer>
		</div>
	</div>

	<script type="text/javascript" src="js/jquery-1.7.2.js"></script>
	<script type="text/javascript">
	
	(function($) {
		$.checkBox = function(obj) {
			var opt = $.extend({
				checkboxClass : "",
				checkboxStyle : {},
				position:'left',
				content :['check1','check2','check3','check4','aa'],
			}, obj || {});
			o={
				htmlobj : null,
				boxNum:[],
				/**构建HTML*/
				buildHtml:function(){
					$.each(opt.content,function(i,num){
						o.boxNum[i]=$('<input type="checkbox"class="ui-checkbox "/><div class="c_checkbox round-5 w-2 h-2 bggrey tac"><i class="icon-ok icon-white vf"></i></div><span class="pls">'+opt.content[i]+'</span>');
					});
					return o.boxNum;
				},
				/** 初始化UI*/
				initUI : function() {
					$.each(opt.content,function(i){
						$(o.boxNum[i][1]).addClass(opt.checkboxClass);
						$(o.boxNum[i][1]).css(opt.checkboxStyle);
						if(opt.position==='left'){
							$(o.boxNum[i][1]).addClass('l fl');
						}else if(opt.position==='right'){
							$(o.boxNum[i][1]).addClass('r fr');
						}
					});
				},
				/**得到content内容数组*/
				getNum:function(){
					return opt.content;
				},
				/**得到构建的HTML*/
				getHtml:function(){
					return o.boxNum;
				},
				/** 初始化 */
				init : function() {
					o.buildHtml();
					o.initUI();
				},
			};
			o.init();
			return o;
		}
	})(jQuery);
	var box=$.checkBox();	
	
	
	(function($) {
		$.group = function(obj) {
			var opt = $.extend({
				groupSelector : "",
				groupClass : "",
				groupStyle : {},
				childObj:null,
				align:'horizontal',
				evtCallback:$.noop
			}, obj || {});
			var groupobj=$(opt.groupSelector);
			var o = {
				htmlobj : [],
				ChildNum:[],
				
				/**得到子组件的数目*/
				getChildNum:function(){
						o.ChildNum=opt.childObj.getNum();
						return o.ChildNum;
				},
				/** 初始化html*/
				initHtml : function() {
					o.getChildNum();
					$.each(o.ChildNum,function(i,num){
						o.htmlobj[i] = $('<a href="javascript:;" class="c_box ggrey btn greybtn block tdn p"></a>');
					});
					return o.htmlobj;
				},
				
				/** 初始化UI*/
				initUI : function() {
					$.each(o.ChildNum,function(i){
						o.htmlobj[i].addClass(opt.groupClass);
						o.htmlobj[i].css(opt.groupStyle);
						groupobj.append(o.htmlobj[i]);
					});
				},
				/** 根据参数，设置子组件的显示*/
				setChild : function() {
					if (typeof opt.childObj === "object") {
						o.initChild(opt.childObj);
					}
				},
				/** 显示子组件*/
				initChild:function(obj){
					$('.c_box').each(function(i){
						$(this).append(obj.getHtml()[i]);
					});
					o.alignBox();
				},
				/**设置组件是横向还是纵向排列*/
				alignBox:function(){
					if(opt.align==='vertical'){
						groupobj.addClass('vgroup round-10 oh border');
					}else if(opt.align==='horizontal'){
						groupobj.addClass('hgroup round-10 oh ib border clearfix');
						$('.c_box').each(function(){
							$(this).addClass('l fl');
						});
					}
				},
				//绑定回调事件
				 registerEvents:function(){
					return opt.evtCallback();
				} ,
				/** 初始化 */
				init : function() {
					o.initHtml();
					o.initUI();
					o.setChild();
					o.registerEvents();
				}
			};
			o.init();
			return o;
		};
	})(jQuery);

	var g = new $.group({
		groupSelector : "#j_group",
		childObj:box,
		evtCallback:function(){
			$(".c_box").on('click',function(){
				var _this=$(this),Ok_icon=_this.find("i"),checkedObj=_this.find(':checkbox');
				Ok_icon.toggleClass("vf");
				Ok_icon.parent().toggleClass("gb");
				if(checkedObj.attr('checked')==undefined){
					checkedObj.attr('checked',true);
				}else{
					checkedObj.attr('checked',false);
				}
			})
		}
	});
	</script>
</body>
</html>