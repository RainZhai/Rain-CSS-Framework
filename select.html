<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Rain CSS > Select</title>
<!-- Framework CSS -->
<link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="all" />
<link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print" /> 
<!--[if lte IE 8]><link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"><![endif]-->
<link rel="stylesheet" href="css/rain.css" type="text/css" media="all" />
<!--[if lt IE 9]><script type="text/javascript" src="js/html5.js"></script><![endif]-->
<style>
.footer{bottom:0;}
</style>
</head>
<body class="body posr" id="body">
	<div class="header headerBlue">
  	<nav class="lsn posr clearfix">
    	<a href="http://www.webdevelopmentmachine.com" class="headerLink headerLinkBlue l pr pl ib tdn">首页home</a>
    	<a href="http://www.webdevelopmentmachine.com/blog" class="headerLink headerLinkBlue l pr pl ib tdn">博客blog</a>
    	<a href="http://www.webdevelopmentmachine.com/demo/game.html" class="headerLink headerLinkBlue l pr pl ib tdn">游戏game</a>
    </nav>
	</div>
	<div class="headerM headerGrey">
		<div class="container posr">
			<div class="l">
				<a class="tdn block ptll fsxxl" href="index.html">Rain CSS</a>
			</div>
		</div>
	</div>

	<div class="container mt posr">
		<div class="content">
			<div class="sidebar l posr">
				<h2 class="category">Select component</h2>
				<p>This part is the webpage Select component</p>
			</div>
			<div class="main mainRight posr">
				<h1>Select</h1>
				<div id="j_select"></div><br/>
				<div id="j_select_1"></div>
			</div>
		</div>
	</div>
			<footer class="footer socialFooter c borderTop mt posf fullw">
			<p class="bottom pt pb">Copyright 2010-2013 Web Development Machine All rights reserved.</p>
			</footer>
<!-- script src="js/lib/require.js" data-main="js/selectmain"></script -->
<script type="text/javascript" src="http://cdn.staticfile.org/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="js/util.js"></script>
<script type="text/javascript" src="js/jquery.dialog.js"></script>
<script type="text/javascript" src="js/jquery.select.js"></script>
<script type="text/javascript"> 
  var s = new selects({
    event : 'click',
    selectHandler: '#j_select',
    selectClass:'ui-select ggrey btn greybtn round-10 posr oh',
    data: {list:[{ "name": "1", "value":"1" },{ "name": "2", "value":"2" }
    ]},
    dataUrl:'./data/select.json',
    iconwrapStyle:{"top":"15px","right":"5px"},
    callback: function (e) {
      d.close(e,function(){
          history.back();
      });
      s.checkReload();
      //s.divData(5);
  }
  });
  var s1 = new selects({
    event : 'click',
    selectHandler: '#j_select_1',
    selectClass:'ui-select ggrey btn greybtn round-10 posr oh',
    next: null,
    data: {list:[{ "name": "1", "value":"1" },{ "name": "2", "value":"2" }]},
    dataUrl:'./data/select.json',
    iconwrapStyle:{"top":"15px","right":"5px"}
  });

  var d =new dialog({
    top : '5%',
    titleText : "Select dialog",
    content: s.getUlobj(),
    contentStyle:{
      "height": $( window ).height()*0.65,
      "overflow": "auto"
    },
    btnsWrapStyle : {'text-align' : 'center'},
    buttonsClass : ["hm rounds ggrey btn greybtn ib wf-45", "hm rounds ggrey btn greybtn ml ib wf-45"],
    buttonsArray : ['cancel','ok'],
    beforeShow: function () {
        var t = util.getTitle();
        if (!util.state()) {
            util.pushState({data: {name: 'show', obj: 'd'}, title: t, url: '?show'});
        } else {
            util.replaceState({data: {name: 'show', obj: 'd'}, title: t, url: '?show'});
        }
    },
    buttonsCallback : {'ok':function(){
      var v = d.getHtml().find('.c_ul').find('[state=s]').attr('val');
      var t = d.getHtml().find('.c_ul').find('[state=s]').attr('text');
      s.setValue(v).setText(t).remark();
      var n = s.getNext();
      if(n){
        n.setParams({'name':t,'value':v});
        n.setData();
      }
      history.back();
      d.close();
    },'cancel':function(){
      history.back();
      d.close();
    }}
  });
  var d1 =new dialog({
    top : '5%',
    titleText : "Select dialog",
    content: s1.getUlobj(),
    contentStyle:{
      "height": $( window ).height()*0.65,
      "overflow": "auto"
    },
    btnsWrapStyle : {'text-align' : 'center'},
    buttonsClass : ["hm rounds ggrey btn greybtn ib wf-45", "hm rounds ggrey btn greybtn ml ib wf-45"],
    buttonsArray : ['cancel','ok'],
    beforeShow:function(e){
      var t = util.getTitle();
      if(!util.state()){
        util.pushState({data:{name:'show2'},title:t,url:'?show2'});
        }else{
        util.replaceState({data:{name:'show2'},title:t,url:'?show2'});
      }
    },
    buttonsCallback : {'ok':function(){
      var v = d1.getHtml().find('.c_ul').find('[state=s]').attr('val');
      var t = d1.getHtml().find('.c_ul').find('[state=s]').attr('text');
      s1.setValue(v).setText(t).remark();
      d1.close();
    },'cancel':function(){
      d1.close();
    }}
  });
  s.setNext(s1);
  s.setDialog(d);
  s1.setDialog(d1);
  util.registerStateChange(function () {
    if (!util.state() && d) {
        d.close();
    } else {
        d._show();
      }
  });
  util.initObjByUrl(d);

</script>
</body>
</html>